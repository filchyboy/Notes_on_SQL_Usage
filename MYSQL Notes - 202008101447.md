# MySQL Notes
___

___
Local Instance of MySQL on 'malevich'

In terminal use this: `mysql -u root -p`

Password:

	>	W7TC25JO3kUz2llCH7i13Ho

Then (if needed): `ALTER USER 'root'@'localhost' IDENTIFIED BY 'password'`
	
Show databases in instance: `SHOW DATABASES;`
Create databases: `CREATE DATABASE database_name;`
Delete database: `DROP DATABASE database_name;`
Choose specific database as working space: `USE database_name;`
Determine which database currently in use: `SELECT database();`
	
Create tables and assign datatypes to columns:

	CREATE TABLE tablename
	  (
	    column_name data_type,
	    column_name data_type
	  );
	  
Note that it's required to define lengths for strings & other datatypes: 

	  (
	    column_name VARCHAR(100),
	    column_name INT
	  );
	  
Note that in order to require data in each field you must use `NOT NULL`: 

	  (
	    column_name VARCHAR(100) NOT NULL,
	    column_name INT NOT NULL
	  );
	  
Note that in order to allow for default values in each field you must use `DEFAULT`: 

	  (
	    column_name VARCHAR(100) NOT NULL DEFAULT 'default_value',
	    column_name INT NOT NULL DEFAULT 10
	  );
	  
Discover which tables are present in database: `SHOW TABLES;`
	
Explore which columns, or features, are available within a table: `SHOW COLUMNS IN tablename;` In this context you can use `DESC tablename;` to get the same result.

To delete a table from the database: `DROP TABLE tablename;`

To insert records into a table: `INSERT INTO tablename (column_name, column_name) VALUES(value, value);` or to insert multiple rows use `VALUES(value, value), (value, value)` etc.

Inserting records which contain quote marks receive special attention. You can either escape the quotes with a backslash: `"This text has \"quotes\" in it"` or `'This text has \'quotes\' in it'` or you can alternate single and double quotes: `"This text has 'quotes' in it"` or `'This text has "quotes" in it'`.

To view all data in all columns within a table: `SELECT * FROM tablename;` or for all data within specific columns: `SELECT column_name FROM tablename;` or `SELECT column_name_1, column_name_2 FROM tablename;`

When working within the shell if errors are introduced with things like VARCHAR line length or datatype issues you use `SHOW WARNINGS;` to read info from the interpretor. Also be aware that such warnings will sometimes produce bad data so if there is a warning but the insertion worked it may have inserted bad data.

The primary key is the unique identifier per row. They are assigned by column. So this is useful to be assigned upon creation of the table, like this:

		CREATE TABLE tablename
	  (
	  	column_name_id INT NOT NULL AUTO INCREMENT,
	    column_name_1 data_type_1,
	    column_name_2 data_type_2,
		PRIMARY KEY (column_name_id)
	  );
	  
Please note you can also define the primary key on the same line of the column declaration, like this `column_name_id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,` and then leave out this `PRIMARY KEY (column_name_id)`. Both work.

Note that `AUTO INCREMENT` does just what it says which is to force the database to automatically advance the primary key so that you do not have to do that when inserting data.

In order to retrieve specific data within a specific column & row use the `WHERE` command. For instance, `SELECT column_name FROM tablename WHERE variable=target;` Note that this is not case sensitive so `variable=target;` should work to find the same data that `variable=TARGET;` will find.

In order to simplify queries employ aliases. Aliases can be generated as follows: `SELECT column_name AS name FROM tablename WHERE variable=target;`. The results will temporarily render `column_name` as `name` which can be useful during more complicated queries such as a `JOIN`.

Changing data within fields requires use of `UPDATE` in conjunction with `SET` such as : `UPDATE tablename SET column_name='new' WHERE column_name='old';`

Of note here, always do the equivilent `SELECT` & `WHERE` query before you do an `UPDATE` on any data to ensure you are making the correct changes.
	  


`set sql_mode='';`



	
	
## Links
[[SQL Curriculum - 2020081414]]
[[Datatypes in SQL - 202008101549]]
